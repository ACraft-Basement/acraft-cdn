(()=>{"use strict";var e,t={804:e=>{e.exports=React},196:e=>{e.exports=ReactDOM}},a={};function r(e){if(a[e])return a[e].exports;var n=a[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=r(804),r(196).render(e.createElement(()=>{const[t,a]=e.useState([]),[r,n]=e.useState(""),[l,s]=e.useState(!1),[o,m]=e.useState(!1);return e.useEffect(()=>{(async()=>{s(!0);const e=(await blessing.fetch.get("/user/player/list")).map(e=>e.name);a(e),n(e[0]),s(!1)})()},[]),l?e.createElement("p",null,"Loading..."):e.createElement("form",{method:"post",onSubmit:async e=>{e.preventDefault(),m(!0);const{code:t,message:a}=await blessing.fetch.post("/user/player/bind",{player:r});0===t?(await blessing.notify.showModal({mode:"alert",text:a}),window.location.href=blessing.base_url+"/user"):blessing.notify.showModal({mode:"alert",text:a}),m(!1)}},t.length>0?e.createElement(e.Fragment,null,e.createElement("p",null,trans("single-player-limit.bindExistedPlayer")),e.createElement("div",{className:"mb-3"},t.map(t=>e.createElement("label",{key:t,className:"d-block mb-1"},e.createElement("input",{type:"radio",className:"mr-2",checked:r===t,onChange:()=>n(t)}),t)))):e.createElement(e.Fragment,null,e.createElement("p",null,trans("single-player-limit.bindNewPlayer")),e.createElement("input",{type:"text",className:"form-control mb-3",placeholder:trans("general.player.player-name"),onChange:e=>n(e.target.value)})),e.createElement("button",{className:"btn btn-primary float-right",type:"submit",disabled:o},o?e.createElement(e.Fragment,null,e.createElement("i",{className:"fas fa-spinner fa-spin mr-1"}),trans("general.wait")):trans("general.submit")))},null),document.querySelector("#form"))})();
//# sourceMappingURL=BindPlayer.js.map